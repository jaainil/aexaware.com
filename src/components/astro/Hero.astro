---
import { buttonVariants } from "@/components/ui/button";
import { InteractiveGridPattern } from "@/components/ui/interactive-grid-pattern";
import { ArrowUpRight, Plus, Star } from "lucide-astro";
import { Image } from "astro:assets";
import { cn } from "@/lib/utils";

const testimonials = [1, 2, 3];
const stars = [1, 2, 3, 4, 5];
---

<section class="relative overflow-hidden bg-background pt-32 pb-12 lg:pt-40 lg:pb-24 min-h-screen flex items-center">
  <InteractiveGridPattern
    client:idle
    className="absolute inset-0 z-0 opacity-30"
    squares={[60, 40]}
    squaresClassName="hover:fill-primary/10"
  />
  
  <!-- Background Gradients -->
  <div class="pointer-events-none absolute top-0 right-0 -z-10 h-[600px] w-[600px] translate-x-1/3 -translate-y-1/4 rounded-full bg-primary/10 blur-3xl" />
  <div class="pointer-events-none absolute bottom-0 left-0 -z-10 h-[500px] w-[500px] -translate-x-1/3 translate-y-1/4 rounded-full bg-accent/10 blur-3xl" />

  <div class="container relative z-10 mx-auto px-6 lg:px-8">
    <div class="grid lg:grid-cols-2 gap-12 lg:gap-8 items-center">
      
      <!-- Left Column -->
      <div class="flex flex-col space-y-8 relative z-20">
        <div class="space-y-4">
          <h1 class="font-serif text-5xl font-bold leading-tight text-foreground sm:text-6xl lg:text-7xl tracking-tight">
            Engineering <br />
            <span class="italic text-primary">
              Digital Intelligence.
            </span>
          </h1>
          <p class="max-w-lg text-lg text-muted-foreground leading-relaxed">
            Your trusted partner for scalable web, mobile, and AI solutions. Made in Vadodara, serving businesses globally.
          </p>
        </div>

        <!-- IT Solution Card -->
        <div class="relative mt-8 max-w-md overflow-hidden rounded-3xl border border-border/50 bg-white/50 p-6 backdrop-blur-md dark:bg-black/50 shadow-lg">
          <div class="absolute -top-3 -left-3 h-16 w-16 rounded-full bg-primary/20 blur-xl"></div>
          
          <div class="relative z-10">
            <div class="mb-4 inline-flex items-center rounded-full border border-primary/20 bg-primary/10 px-3 py-1 text-xs font-medium text-primary">
              <Plus className="mr-1 h-3 w-3" />
              End-to-End Development
            </div>
            <p class="mb-6 text-sm text-muted-foreground">
              Transform your vision into reality with secure, future-proof technology tailored to your growth.
            </p>
            <a 
              href="/contact" 
              class={cn(buttonVariants({ size: "lg" }), "w-full justify-between rounded-full")}
            >
              Get Started Now
              <ArrowUpRight className="ml-2 h-4 w-4" />
            </a>
          </div>
        </div>
      </div>

      <!-- Right Column -->
      <div class="relative flex justify-center lg:justify-end min-h-[500px] items-center z-10">
        
        <!-- Central Image Placeholder (Abstract Tech) -->
        <div class="relative z-10 h-[400px] w-[300px] sm:h-[500px] sm:w-[400px] rounded-full bg-gradient-to-b from-primary/20 to-accent/20 backdrop-blur-sm border border-white/10 flex items-center justify-center overflow-hidden shadow-2xl">
           <Image 
             src="https://images.unsplash.com/photo-1639322537228-f710d846310a?q=80&w=1000&auto=format&fit=crop"
             alt="Abstract 3D digital intelligence visualization"
             width={400}
             height={500}
             class="absolute inset-0 h-full w-full object-cover opacity-90 mix-blend-normal"
           />
           <div class="absolute inset-0 bg-gradient-to-t from-background/40 via-transparent to-transparent"></div>
        </div>

        <!-- Connecting Line (Decorative) -->
        <svg class="absolute top-1/4 right-10 hidden lg:block w-64 h-32 z-0 pointer-events-none" viewBox="0 0 200 100">
            <path d="M 0 50 Q 100 50 200 20" fill="none" stroke="currentColor" class="text-primary/30" stroke-width="1" stroke-dasharray="4 4" />
            <circle cx="200" cy="20" r="3" fill="currentColor" class="text-primary" />
        </svg>

        <!-- AI Technology Badge -->
        <div class="absolute top-1/3 -right-4 lg:right-0 z-20 animate-[bounce_3s_infinite]">
           <div class="flex items-center gap-2 rounded-full border border-border bg-background/80 px-4 py-2 shadow-lg backdrop-blur-md">
              <div class="flex h-8 w-8 items-center justify-center rounded-full bg-primary/20 text-primary">
                <Plus className="h-4 w-4" />
              </div>
              <span class="text-sm font-semibold">AI Technology</span>
           </div>
        </div>

        <!-- Testimonial Card -->
        <div class="absolute bottom-0 right-0 lg:right-0 z-20 max-w-[260px] rounded-2xl border border-border/50 bg-card/90 p-5 shadow-xl backdrop-blur-md">
           
           <p class="mt-2 text-sm text-muted-foreground">
             "Aexaware delivered a robust, secure platform that scales perfectly with our growth."
           </p>
           
           <div class="mt-4 flex items-center justify-between">
              <div class="flex -space-x-2">
                 {testimonials.map((i) => (
                    <div class="h-8 w-8 rounded-full border-2 border-background bg-gray-200 overflow-hidden">
                       <Image 
                         src={`https://i.pravatar.cc/100?img=${10 + i}`} 
                         alt={`Satisfied client testimonial avatar ${i}`}
                         width={32}
                         height={32}
                         class="h-full w-full object-cover" 
                       />
                    </div>
                 ))}
              </div>
              <div class="flex flex-col items-end">
                 <div class="flex text-yellow-400">
                    {stars.map((i) => (
                       <Star className="h-3 w-3 fill-current" />
                    ))}
                 </div>
                 <span class="text-[10px] font-medium text-muted-foreground">Client Feedback</span>
              </div>
           </div>
        </div>

      </div>
    </div>
  </div>
</section>
